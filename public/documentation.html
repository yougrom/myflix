<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Endpoints Documentation</title>
    <link rel="icon" type="image/x-icon" href="/cf-projects/myflix/img/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container mt-5">
        <h1 class="mb-3">API Endpoints Documentation</h1>
        <p class="mb-3">
            The MyFlix API is designed following REST principles, featuring intuitive URLs, JSON-formatted responses,
            and conventional HTTP status codes. It serves as the backend for a web application that offers users
            detailed information on movies, directors, and genres. Additionally, it enables users to register, update
            their personal details, and compile a list of favorite movies.
        </p>

        <h3 class="mb-3">1. Get All Movies (GET /movies)</h3>
        <p class="mb-3"><strong>Description:</strong> This method retrieves a list of all movies in the database.</p>
        <p class="mb-3"><strong>Request Format:</strong> No request body required.</p>
        <p class="mb-3"><strong>Response Format:</strong> An array of movie objects. Each object contains id, title,
            description, genre, director, image URL, and featured status.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /movies
        Response: [
        {   
            "_id": "...",
            "Title": "The Matrix",
            "Description": "Description of The Matrix",
            "Genre": "Genre",
            "Director": "Director Name",
            "ImagePath": "http://example.com/image1.jpg",
            "Featured": false
        },
            ...
        ]
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">2. Get Movie by Title (GET /movies/:title)</h3>
        <p class="mb-3"><strong>Description:</strong> Retrieves detailed information about a single movie by its title.
        </p>
        <p class="mb-3"><strong>Request Format:</strong> Title of the movie in the URL parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> A movie object containing title, description, genre, director,
            image URL, and featured status.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /movies/The%20Matrix
        Response: {
            "Genre": {
                "Name": "Science Fiction",
                "Description": "Description of the Genre"
            },
            "Director": {
                "Name": "Wachowski Brothers",
                "Bio": "Information about filmmaker",
                "Birth": "1965-01-01"
            },
            "_id": "...",
            "Title": "The Matrix",
            "Description": "Description of The Matrix",
            "ImagePath": "the_matrix.png",
            "Featured": true
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">3. API Base Route (GET /)</h3>
        <p class="mb-3"><strong>Description:</strong> Displays a welcome message or basic information about the API.</p>
        <p class="mb-3"><strong>Request Format:</strong> No request body required.</p>
        <p class="mb-3"><strong>Response Format:</strong> A simple message or JSON object with basic API information.
        </p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /
        Response: {
            "message": "Welcome to my movie app!"
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">4. Get Users (GET /users)</h3>
        <p class="mb-3"><strong>Description:</strong> Returns a list of all registered users.</p>
        <p class="mb-3"><strong>Request Format:</strong> No request body required.</p>
        <p class="mb-3"><strong>Response Format:</strong> An array of user objects.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /users
        Response: [
        {
            "_id": "...",
            "Username": "user",
            "Email": "user@example.com",
            "Birthday": "...",
            "FavoriteMovies": ["..."]
        },
            ...
        ]
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">5. Get User by Username (GET /users/:Username)</h3>
        <p class="mb-3"><strong>Description:</strong> Returns data about a user by username.</p>
        <p class="mb-3"><strong>Request Format:</strong> Username in the URL parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> A user object.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /users/user1
        Response: {
            "_id": "...",
            "Username": "user1",
            "Email": "user1@example.com",
            ...
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">6. Add New Movie (POST /movies)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows for adding a new movie to the database.</p>
        <p class="mb-3"><strong>Request Format:</strong> JSON object with movie's details including title, description,
            Genre,
            Director,
            Image Path, and featured status.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message with the added movie's details.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        POST /movies
        Request: {
            "Genre": {
                "Name": "Name of the Genre",
                "Description": "Genre description"
            },
            "Director": {
                "Name": "Director of New Movie",
                "Bio": "Director bio here.",
                "Birth": "1970-01-01"
            },
            "Title": "New Movie",
            "Description": "Description of New Movie",
            "ImagePath": "newmovie.png",
            "Featured": true
        }

        Response: {
            Genre": {
                "Name": "Name of the Genre",
                "Description": "Genre description"
            },
            ...
        }


        </pre>
        </p>
        <hr>

        <h3 class="mb-3">7. Register New User (POST /users)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows new users to register.</p>
        <p class="mb-3"><strong>Request Format:</strong> JSON object with new user's details including username,
            password, email, and
            date of
            birth.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message with the registered user's details.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        POST /users
        Request: {
            "Username": "new user name",
            "Password": "password123",
            "Email": "newuser@example.com",
            "Birthday": "1987-01-01",
            "Death": "2007-01-01"
        }
        Response: {
            "_id": "...",
            "Username": "new user name",
            "Password": "password123",
            ...
        }
        
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">8. Add Movie to User's Favorites (POST
            /users/:Username/movies/:MovieID)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows a user to add a movie to their list of favorites.</p>
        <p class="mb-3"><strong>Request Format:</strong> Username and MovieID in the URL parameters.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message with updated favorites list.</p>
        <p><strong>Example:</strong>
        <pre class="bg-light p-3">
        POST /users/john%20doe/movies/12g345...
        Response: {
            ...
            "FavoriteMovies": ["12g345...", ...],
            ...
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">9. Update User Information (PUT /users/:Username)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows users to update their information.</p>
        <p class="mb-3"><strong>Request Format:</strong> Username in the URL parameter and JSON object with updated user
            details.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message with updated user details.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        PUT /users/johndoe
        Request: {
            "Username": "new user name",
            "Email": "newemail@example.com",
            "Birthday": "1966-06-26",
        }

        Response: {
            "_id": "...",
            "Username": "new user updated",
            "Email": "email_updated@example.com",
            "Birthday": "1966-06-26",
            "FavoriteMovies": ["..."]
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">10. Delete a Movie from User's Favorite List (DELETE /users/:username/favoriteMovies/:_id)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows users to delete a movie from their favorite movies list.
        </p>
        <p class="mb-3"><strong>Request Format:</strong> Username and movie ID in the URL parameters.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message indicating the movie has been removed
            from the favorites list.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        DELETE /users/johndoe/FavoriteMovies/12g345...
        
        Response: {
            "message": "Movie was removed from favorites"
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">11. Delete User by Username (DELETE /users/:Username)</h3>
        <p class="mb-3"><strong>Description:</strong> Deletes a user from the database by their username.</p>
        <p class="mb-3"><strong>Request Format:</strong> The username of the user to be deleted, passed as a URL
            parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message indicating the result of the deletion
            operation.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
            DELETE /users/johndoe
            Response: {
                "message": "johndoe was deleted"
            }
            </pre>
        </p>
        <hr>

        <h3 class="mb-3">12. Delete Movie (DELETE /movies/:id)</h3>
        <p class="mb-3"><strong>Description:</strong> Allows deletion of a movie from the database.</p>
        <p class="mb-3"><strong>Request Format:</strong> Movie ID in the URL parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> A confirmation message indicating the deletion of the movie.
        </p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        DELETE /movies/123g45...
        Response: {
            "message": "Movie was deleted"
        }
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">13. Get Movies by Genre (GET /movies/Genre/:Name)</h3>
        <p class="mb-3"><strong>Description:</strong> Fetches a list of movies belonging to a specified genre.</p>
        <p class="mb-3"><strong>Request Format:</strong> Genre name in the URL parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> JSON array containing movies that match the specified genre.
        </p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /movies/Genre/Genre%20Name
        Response: [{
            "Genre": {
                "Name": "Genre Name",
                "Description": "..."
            },
            "Director": {
                ...
            },
            "_id": "...",
            "Title": "Movie Title",
            ...
        },{ ... }]
        </pre>
        </p>
        <hr>

        <h3 class="mb-3">14. Get Data About a Director by Name (GET /movies/Director/:Name)</h3>
        <p class="mb-3"><strong>Description:</strong> Retrieves detailed information about a director, including their
            biography, birth year, and death year (if applicable), based on the director's name.</p>
        <p class="mb-3"><strong>Request Format:</strong> Director's name in the URL parameter.</p>
        <p class="mb-3"><strong>Response Format:</strong> JSON object containing the director's details.</p>
        <p class="mb-3"><strong>Example:</strong>
        <pre class="bg-light p-3">
        GET /movies/Director/Steven%20Spielberg

        Response: {
            "Name": "Steven Spielberg",
            "Bio": "Steven Allan Spielberg is an American film director, producer, and screenwriter...",
            "Birth": "1946-12-18",
            "Death": null
        }
        </pre>
        </p>

        <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    </div>
    <footer class="main-footer"></footer>
</body>

</html>